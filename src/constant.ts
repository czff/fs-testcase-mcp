import type { CallToolResult } from "@modelcontextprotocol/sdk/types.js";

export const PROMPT_TIPS: CallToolResult["content"] = [
  {
    type: "text",
    text: `当获取所有测试用例后，请严格按照以下规则进行测试：
            **测试执行规则：**
            1. 请逐一、严格按照顺序执行所有测试用例，记录实际结果，不要采用抽样和关键功能测试
            2. 每个用例都必须有明确的测试结果，不能因"时间限制"而省略
            3. 禁止"关键功能测试"模式，所有功能都同等重要
            4. 严格比对预期结果与实际结果的差异
            5. 发现缺陷时详细记录复现步骤和环境信息
            6. 不预先假定任何测试结果，所有结论必须基于实际执行
            7. 当测试用例因客观依赖缺失（如缺少必需数据、环境不可用、权限不足）而无法执行时，应将用例状态标记为 “⚠️ 阻塞”。必须详细记录阻塞的根本原因，并提出明确的解决建议或依赖项
            8. 当测试用例因主观原因（如操作失误、理解偏差）而无法执行时，应将用例状态标记为 “⏭️ 跳过”。必须详细记录跳过的根本原因，并提出明确的解决建议或依赖项
            9. 当测试用例因其他原因（如系统异常、网络问题）而无法执行时，应将用例状态标记为 “❌ 失败”。必须详细记录失败的根本原因，并提出明确的解决建议或依赖项

            **测试记录要求：**
            - 测试用例ID和执行状态（通过/失败/阻塞/跳过）
            - 实际输出与预期输出的具体差异
            - 缺陷的严重程度和优先级评估
            - 测试环境配置信息
            - 执行时间和测试轮次标识

            **报告生成原则：**
            测试完成后，基于实际执行数据生成报告，包含：
            1. 测试执行概况（总数/通过率/失败率）
            2. 缺陷分类统计
            3. 关键问题分析
            4. 测试结论和建议。

            **报告严格按照以下模板：**
            # [模块/功能名称] 测试报告
            **测试时间**: [YYYY-MM-DD]  
            **测试人员**: [执行人员]  
            **测试环境**: [环境描述]  
            **测试版本**: [系统版本号]

            ---
            ## 一、测试概况

            | 测试项 | 数量 | 占比 |
            |--------|------|------|
            | 总用例数 | [实际总数] | 100% |
            | ✅ 通过 | [实际通过数] | [百分比]% |
            | ❌ 失败 | [实际失败数] | [百分比]% |
            | ⚠️ 阻塞 | [实际阻塞数] | [百分比]% |
            | ⏭️ 跳过 | [实际跳过数] | [百分比]% |

            ---

            ## 二、测试用例执行明细表

            | 用例编号 | 用例名称 | 等级 | 测试结果 | 实际结果说明 | 备注 |
            |---------|---------|------|---------|-------------|------|
            | [ID] | [名称] | [P0-P3] | **[实际状态]** | **[观察到的真实现象]** | **[具体原因]** |
                        

            ## 三、问题与建议

            ### 3.1 发现的问题

            | 问题编号 | 问题描述 | 严重程度 | 状态 |
            |---------|---------|---------|------|
            | - | 暂无功能性问题 | - | - |

            ### 3.2 测试建议

            | 建议类型 | 具体建议 | 优先级 |
            |---------|---------|--------|
            | xxx | xxx(用于测试用例xx、xx) | P1 |
            | xxx | xxx(用于测试用例xxx、xx) | Px |

            ---

            ## 四、测试结论

            ### 4.1 功能验证结果

            | 功能模块 | 验证结果 | 说明 |
            |---------|---------|------|
            | xxx | ✅ 正常 | xxx |
            | xxx | ⚠️ 待验证 | xxx |

            ### 6.2 总体评价

            **测试通过率**: xx% (xx/xx)  
            **核心功能(P0-P1)通过率**: xx% (xx/xx)

            **结论**: 
            - ✅ xxx
            - ⚠️ xxx

            **建议**: 在补充完整测试数据后,重新执行阻塞和跳过的用例,确保功能完整性。
            ---

            **报告生成时间**: xxxx-xx-xx
            **测试工具**: xxx(必须明确说明“模型名称、模型大小、模型类型及IDE名称)  
            **报告状态**: xxx
`,
  },
];

export const VERSION = "0.0.1";
export const NAME = "fs-testcase-mcp";
